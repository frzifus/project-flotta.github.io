<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="513px" preserveAspectRatio="none" style="width:390px;height:513px;background:#FFFFFF;" version="1.1" viewBox="0 0 390 513" width="390px" zoomAndPan="magnify"><defs/><g><!--MD5=[30afa6242ed7a9da9c35c8eba5ba651d]
cluster Kubernetes--><g id="cluster_Kubernetes"><rect height="354" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="354" x="7" y="7"/><path d="M110,7 L110,16.2969 L100,26.2969 L7,26.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="10" y="20.9951">Kubernetes</text></g><!--MD5=[d381e6152f6bf88e62ece4b16fa98976]
cluster Edge Device--><g id="cluster_Edge Device"><rect height="97" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;fill:none;" width="156" x="114" y="410"/><path d="M221,410 L221,419.2969 L211,429.2969 L114,429.2969 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="117" y="423.9951">Edge Device</text></g><!--MD5=[0050c6625e3b42e2857ba4d8ed699679]
entity operator--><g id="elem_operator"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="23.5" y="42"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="146.5" y="47"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.5" y="49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="38.5" y="74.9951">Flotta Operator</text></g><!--MD5=[5fb2d01be3bc6d42cbc5b2c713ee9994]
entity edgeAPI--><g id="elem_edgeAPI"><rect fill="#F1F1F1" height="46.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="201.5" y="42"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="324.5" y="47"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="322.5" y="49"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="322.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="216.5" y="74.9951">Flotta Edge API</text></g><!--MD5=[8687e376a85d0f6c7ac33d2e69747da1]
entity buckets--><g id="elem_buckets"><path d="M41.5,175 C41.5,165 121,165 121,165 C121,165 200.5,165 200.5,175 L200.5,200.2969 C200.5,210.2969 121,210.2969 121,210.2969 C121,210.2969 41.5,210.2969 41.5,200.2969 L41.5,175 " fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M41.5,175 C41.5,185 121,185 121,185 C121,185 200.5,185 200.5,175 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="51.5" y="201.9951">Object Bucket Claim</text></g><!--MD5=[6c7192638421eaf134d201765ac5db29]
entity S3--><g id="elem_S3"><ellipse cx="137" cy="316" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="128" y="345.9951">S3</text></g><!--MD5=[27c74c040bb721c92ccc79d4667f8209]
entity deviceAgent--><g id="elem_deviceAgent"><polygon fill="#F1F1F1" points="130.5,455,140.5,445,253.5,445,253.5,481.2969,243.5,491.2969,130.5,491.2969,130.5,455" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="243.5" x2="253.5" y1="455" y2="445"/><line style="stroke:#181818;stroke-width:0.5;" x1="130.5" x2="243.5" y1="455" y2="455"/><line style="stroke:#181818;stroke-width:0.5;" x1="243.5" x2="243.5" y1="455" y2="491.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="145.5" y="477.9951">Flotta Agent</text></g><!--MD5=[8b5b8df0af2ab123d31cb7abb2a4c153]
link buckets to S3--><g id="link_buckets_S3"><path d="M123.75,210.25 C127.36,238.79 133.52,287.51 135.96,306.79 " fill="none" id="buckets-S3" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="131" y="253.0669">API</text></g><!--MD5=[9c8f04179efa8793b6e0a74714c1f60a]
link deviceAgent to S3--><g id="link_deviceAgent_S3"><path d="M181.92,444.87 C175.55,430.51 167.36,411.32 161,394 C152.92,371.99 145.14,345.83 140.73,330.37 " fill="none" id="deviceAgent-to-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="139.26,325.18,137.852,334.9277,140.6166,329.9924,145.5519,332.7571,139.26,325.18" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="162" y="390.0669">Upload files</text></g><!--MD5=[35535487e94148a9835b7cdfddf6db5c]
reverse link edgeAPI to deviceAgent--><g id="link_edgeAPI_deviceAgent"><path d="M274.76,93.63 C277.49,151.34 278.97,288.08 241,394 C234.3,412.68 221.77,431.21 211.06,444.93 " fill="none" id="edgeAPI-backto-deviceAgent" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="274.49,88.3,270.9575,97.4936,274.7468,93.2934,278.947,97.0827,274.49,88.3" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="272" y="253.0669">Get configuration</text></g><!--MD5=[19ee8817b817879544d9517966b1c6d1]
link operator to buckets--><g id="link_operator_buckets"><path d="M99.77,88.1 C104.14,108.36 110.62,138.38 115.27,159.93 " fill="none" id="operator-to-buckets" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="116.35,164.94,118.3562,155.2976,115.2926,160.0531,110.5371,156.9895,116.35,164.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="111" y="131.0669">Provision</text></g><!--MD5=[404875cd11f0d1822ed113a05312f03e]
@startuml

frame Kubernetes {
    component "Flotta Operator" as operator
    component "Flotta Edge API" as edgeAPI
    database "Object Bucket Claim" as buckets
    interface S3
}

frame "Edge Device" {
    node "Flotta Agent" as deviceAgent
}

buckets -down- S3: API
deviceAgent - -> S3: Upload files
deviceAgent -up- - -> edgeAPI : Get configuration

operator - -> buckets: Provision

@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>